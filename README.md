# CS2-KD-Predict
# 🎯 CS 战绩回归预测（KD 预测）
> 本项目是一个以「问题可预测性分析」为核心的数据科学实践，
> 重点不在于追求高预测精度，而在于通过建模、对比与误差分析，
> 探讨个人历史表现对短期竞技状态的解释能力。

## 一、项目简介

本项目基于 **Counter-Strike（CS）比赛战绩数据**，尝试使用机器学习方法对**未来比赛的 KD（击杀/死亡比）**进行预测。

项目目标并非“高精度预测”，而是：

* 探索 **个人历史表现是否能预测短期状态**
* 对比 **线性模型与非线性模型** 在该问题上的表现
* 构建一个 **完整、可复现、可扩展** 的数据分析 + 建模流程

> 结论先行：
>
> * 短期 KD 预测本身噪声极大
> * 即使引入多种统计特征，模型解释力依然有限（R² 为负）
> * 该问题更适合作为「机器学习建模与误差分析」示例项目

---
## 数据来源

比赛数据通过自编写的爬虫从 Steam 官方战绩页面获取，
并在本地完成清洗与特征工程处理。

为保护隐私与账号安全，爬虫代码与配置文件已做脱敏处理，
仓库中仅提供结构示例与说明。

## 二、数据说明

### 1️⃣ 原始字段

```text
['MatchID', 'DateTime', 'Mode', 'Player Name', 'Ping',
 'K', 'A', 'D', 'MVP', 'HSP', 'Score',
 'TeamScore', 'EnemyScore', 'Result']
```

### 2️⃣ 构造特征（滑动窗口 5 场）

| 特征名          | 含义             |
| ------------ | -------------- |
| Score_mean_5 | 最近 5 场平均得分     |
| HSP_mean_5   | 最近 5 场爆头率      |
| MVP_mean_5   | 最近 5 场 MVP 次数  |
| Ping_mean_5  | 最近 5 场平均延迟     |
| WinRate_5    | 最近 5 场胜率       |
| KD_trend_5   | 最近 5 场 KD 变化趋势 |

### 3️⃣ 预测目标

* **KD_10**：未来第 10 场比赛的 KD

---

## 三、模型与实验设计

### 实验流程

```text
数据清洗
  ↓
滑动窗口特征构造
  ↓
训练 / 测试集划分（时间序列）
  ↓
模型训练
  ↓
误差评估 + 可视化
```

### 使用模型

* 线性回归（Linear Regression）
* 随机森林回归（RandomForestRegressor）

---

## 四、实验结果对比

### 1️⃣ 性能指标

| 指标  | 线性回归        | RandomForest |
| --- | ----------- | ------------ |
| MAE | **0.1339**  | 0.1367       |
| R²  | **-0.2448** | -0.6702      |

> 说明：
>
> * MAE 相近，线性模型略优
> * RandomForest 出现明显过拟合
> * 两者 R² 均为负，说明历史数据对未来 KD 解释力有限

---

## 五、模型解释

### 1️⃣ 线性回归系数分析

| 特征           | 系数      | 解释           |
| ------------ | ------- | ------------ |
| Score_mean_5 | +0.0094 | 分数高 → KD 略升  |
| MVP_mean_5   | +0.0391 | MVP 有正相关     |
| KD_trend_5   | +0.0087 | 趋势对未来略有帮助    |
| HSP_mean_5   | -0.0069 | 爆头率与 KD 反向   |
| Ping_mean_5  | +0.0055 | 延迟与 KD 弱正相关  |
| WinRate_5    | -0.1783 | 胜率强负相关（数据特性） |

截距（基础 KD）：**0.5845**

---

### 2️⃣ RandomForest 特征重要性

| 排名 | 特征           | 重要性       |
| -- | ------------ | --------- |
| 1  | Score_mean_5 | 35.74% 🏆 |
| 2  | Ping_mean_5  | 25.20%    |
| 3  | HSP_mean_5   | 23.80%    |
| 4  | MVP_mean_5   | 6.60%     |
| 5  | KD_trend_5   | 5.31%     |
| 6  | WinRate_5    | 3.35%     |

> 说明：
>
> * 非线性模型更依赖「分数 / 延迟 / 爆头率」
> * 胜率在 KD 预测中贡献极低

---

## 六、可视化结果

* 预测值 vs 真实值折线图
* 文件：`prediction_KD_10.png`

该图直观展示：

* 预测曲线整体平滑
* 无法捕捉单场剧烈波动

---

## 七、结论与反思

1. **KD 是高随机性指标**，短期预测天然困难
2. 滑动窗口统计特征只能提供弱信号
3. 非线性模型并不一定优于简单模型
4. 负 R² 并非失败，而是重要结论：

   > “该问题本身可预测性极低”

---

## 八、未来改进方向（第二阶段）

* ⏱ 时间衰减加权特征（EWMA）
* 📈 长期窗口（20~50 场）趋势建模
* 🎮 按模式 / 地图分组建模
* 🔁 改为 **状态分类（好 / 正常 / 低迷）** 而非精确回归

---

## 九、项目结构示例

```text
cs-kd-predict/
├─ data/
│  └─ matches.csv
├─ regression.py
├─ random_forest.py
├─ prediction_KD_10.png
├─ requirements.txt
└─ README.md
```

---

## 十、声明

* 本项目仅用于 **学习、研究与展示**
* 所有数据均来自个人游戏记录

---
如果你对竞技游戏数据分析或模型误差研究感兴趣，欢迎交流与讨论。

